var Controller=function(){function t(){$(".input-form").on("click",".js-data",function(){i=n(),e(),$(".input-form").hide()})}function n(){var t=$("#arrayURL").val().split(",");return t.forEach(function(n,e){t[e]=n.replace(/["\n \u005B\u005D]/g,"")}),t}function e(){r=new Preview(i),r.render()}function c(t){$(".js-slider-preview").hide(),o=new Slider(t,a),o.render()}var i=[],r={},o={},a={urlArray:["https://c2.staticflickr.com/4/3117/3175014052_7484da1205_z.jpg","https://c2.staticflickr.com/4/3262/3175014554_db597bbb73_z.jpg","https://c2.staticflickr.com/4/3670/8813562512_229f5cf24a_z.jpg","https://c1.staticflickr.com/9/8440/7787237516_b46aa5fabb_c.jpg","https://c2.staticflickr.com/4/3404/3449526371_0454515b13_z.jpg","https://c2.staticflickr.com/4/3602/3450323658_ab5961a0aa_z.jpg","https://c1.staticflickr.com/3/2491/3751647375_4695b378de_z.jpg","https://c1.staticflickr.com/3/2443/3752426198_ebe03fa615_z.jpg","https://c2.staticflickr.com/2/1032/3175022066_57fce505be_z.jpg","https://c1.staticflickr.com/3/2528/3751624573_08815f8950_z.jpg"],duration:1e3};return{init:function(){$("#arrayURL").val(a.urlArray),t()},receiveDataPreview:function(t){c(t)}}}();$(function(){Controller.init()});var Preview=function(t){function n(){l=Handlebars.compile($("#preview-template").html())}function e(t){$(".js-slider-preview").html(l({urls:t}))}function c(t,n){var e=[];return t.forEach(function(t,c){e[c]={img:t,comments:n[c]}}),e}function i(){s.splice($(this).parent().index(),1),d.render()}function r(){var t=$(".comment");t.each(function(n){f[n]=t.eq(n).val()}),o()}function o(){Controller.receiveDataPreview(c(s,f))}function a(){s=t,n(),$(".js-slider-preview").on("click",".btnDel",i).on("click",".btnSave",r)}var l,s=[],f=[],d=this;a(),this.render=function(){e(s)}},Slider;Slider=function(t,n){function e(){s=Handlebars.compile($("#slider-template").html())}function c(t){$(".js-slider").html(s({slidesTemp:t}))}function i(){var t=$("li").last(),n=$("li").first();$(".js-content-holder").css({width:$(".js-content-holder li").width()*($(".js-content-holder li").length+2),marginLeft:-500}),n.clone().addClass("clone").appendTo($(".js-content-holder")),t.clone().addClass("clone").prependTo($(".js-content-holder")),$(".js-bullets").eq(0).addClass("active")}function r(){f=setInterval(function(){a(1)},n.duration)}function o(){$(".js-bullets").removeClass("active").eq(d).addClass("active")}function a(t){d+=t,d===$(".js-content-holder li").length-1?(d=0,$(".js-content-holder").css("transform","translateX(-"+d+"px) ").removeClass("animated"),o()):d===-1?(d=$(".js-content-holder li").length-2,$(".js-content-holder").css("transform","translateX(-"+-(500*d)+"px) ").removeClass("animated"),o()):($(".js-content-holder").css("transform","translateX("+-(500*d)+"px) ").addClass("animated"),o())}function l(){e(),$(".js-slider").on("click",".control-next",function(){a(1)}).on("click",".control-prev",function(){a(-1)}).on("mouseenter",function(){clearInterval(f)}).on("mouseleave",function(){r()})}var s,f,d=0;l(),this.render=function(){c(t),i(),r()}};