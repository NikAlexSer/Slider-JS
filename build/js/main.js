var Controller=function(){function t(){$(".input-form").on("click",".js-data",function(){c=n(),e(),$(".input-form").hide()})}function n(){var t=$("#arrayURL").val().split(",");return t.forEach(function(n,e){t[e]=n.replace(/["\n \u005B\u005D]/g,"")}),t}function e(){o=new Preview(c),o.init(),o.render()}function i(t){$(".js-slider-preview").hide(),r=new Slider(t),r.init(),r.render()}var c=[],o={},r={},l={defaultOpt:["https://c2.staticflickr.com/4/3117/3175014052_7484da1205_z.jpg","https://c2.staticflickr.com/4/3262/3175014554_db597bbb73_z.jpg","https://c2.staticflickr.com/4/3670/8813562512_229f5cf24a_z.jpg","https://c1.staticflickr.com/9/8440/7787237516_b46aa5fabb_c.jpg","https://c2.staticflickr.com/4/3404/3449526371_0454515b13_z.jpg","https://c2.staticflickr.com/4/3602/3450323658_ab5961a0aa_z.jpg","https://c1.staticflickr.com/3/2491/3751647375_4695b378de_z.jpg","https://c1.staticflickr.com/3/2443/3752426198_ebe03fa615_z.jpg","https://c2.staticflickr.com/2/1032/3175022066_57fce505be_z.jpg","https://c1.staticflickr.com/3/2528/3751624573_08815f8950_z.jpg"]};return{init:function(){$("#arrayURL").val(l.defaultOpt),t()},receiveDataPreview:function(t){i(t)}}}();$(function(){Controller.init()});var Preview=function(t){function n(){l=Handlebars.compile($("#preview-template").html())}function e(t){$(".js-slider-preview").html(l({urls:t}))}function i(t,n){var e=[];return t.forEach(function(t,i){e[i]={img:t,comments:n[i]}}),e}function c(){a.splice($(this).parent().index(),1),f.render()}function o(){var t=$(".comment");t.each(function(n){s[n]=t.eq(n).val()}),r()}function r(){Controller.receiveDataPreview(i(a,s))}var l,a=[],s=[],f=this;this.init=function(){a=t,n(),$(".js-slider-preview").on("click",".btnDel",c).on("click",".btnSave",o)},this.render=function(){e(a)}},Slider=function(t){function n(){r=Handlebars.compile($("#slider-template").html())}function e(t){$(".js-slider").html(r({slidesTemp:t}))}function i(){$(".js-content-holder").css({width:$(".js-content-holder li").width()*($(".js-content-holder li").length+2)})}function c(){var t=1e3;l=setInterval(function(){o()},t)}function o(){console.log("start",a),$(".clone").remove(),$("li").eq(0).clone().addClass("clone").appendTo($(".js-content-holder")),$(".js-content-holder").css("transform","translateX(-"+500*a+"px) ").addClass("animated"),a++,console.log("end",a),a>$(".js-content-holder li").length&&($(".js-content-holder").css("transform","translateX(-0px) ").removeClass("animated"),a=1,console.log("AHTUNG"))}var r,l,a=0;this.init=function(){n()},this.render=function(){e(t),i(),c()}};